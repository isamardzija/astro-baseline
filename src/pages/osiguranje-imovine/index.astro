---
import { getEntry, render } from "astro:content";
import Base from "../../layouts/Base.astro";
import { site } from "../../content/site";
import { faqOpcenito } from "../../content/faqs/osiguranje-imovine.js";

const page = await getEntry("pages", "osiguranje-imovine");
if (!page) throw new Error("Missing content entry: pages/osiguranje-imovine");
const { Content } = await render(page);

const { title, description } = page.data;
const canonical = new URL("/osiguranje-imovine", site.url).toString();

const jsonLd = [
  {
    "@context": "https://schema.org",
    "@type": "Article",
    headline: title,
    description,
    author: {
      "@type": "Person",
      name: site.author.name,
      url: site.author.url,
    },
    publisher: {
      "@type": "Organization",
      name: site.name,
      url: site.url,
    },
    datePublished: "2024-02-06",
    dateModified: new Date().toISOString().split("T")[0],
    mainEntityOfPage: canonical,
    inLanguage: site.locale,
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    mainEntity: faqOpcenito.items.map((faq) => ({
      "@type": "Question",
      name: faq.question,
      acceptedAnswer: {
        "@type": "Answer",
        text: faq.answer,
      },
    })),
  },
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    itemListElement: [
      { "@type": "ListItem", position: 1, name: "Poƒçetna", item: `${site.url}/` },
      { "@type": "ListItem", position: 2, name: "Osiguranje imovine" },
    ],
  },
];
---

<Base
  title={title}
  description={description}
  canonicalPath="/osiguranje-imovine"
  ogType="article"
  jsonLd={jsonLd}>
  <article class="prose">
    <Content />
  </article>
</Base>
